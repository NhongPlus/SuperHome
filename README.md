<h1 align="center">Há»† THá»NG NHÃ€ THÃ”NG MINH</h1>

<div align="center">

<p align="center">
  <img src="images/logoDaiNam.png" alt="DaiNam University Logo" width="200"/>
  <img src="images/LogoAIoTLab.png" alt="AIoTLab Logo" width="170"/>
</p>

[![Made by AIoTLab](https://img.shields.io/badge/Made%20by%20AIoTLab-blue?style=for-the-badge)](https://www.facebook.com/DNUAIoTLab)
[![Fit DNU](https://img.shields.io/badge/Fit%20DNU-green?style=for-the-badge)](https://fitdnu.net/)
[![DaiNam University](https://img.shields.io/badge/DaiNam%20University-red?style=for-the-badge)](https://dainam.edu.vn)

</div>

<h2 align="center">Giá»›i thiá»‡u há»‡ thá»‘ng</h2>

<p align="left">
  Há»‡ thá»‘ng nhÃ  thÃ´ng minh giÃºp tá»± Ä‘á»™ng hÃ³a cÃ¡c thiáº¿t bá»‹ trong nhÃ , nÃ¢ng cao sá»± tiá»‡n lá»£i vÃ  an toÃ n cho ngÆ°á»i dÃ¹ng. Dá»± Ã¡n káº¿t há»£p giá»¯a pháº§n cá»©ng (Arduino, ESP8266, ESP32-CAM) vÃ  pháº§n má»m (xá»­ lÃ½ trÃªn mÃ¡y tÃ­nh) Ä‘á»ƒ Ä‘iá»u khiá»ƒn cÃ¡c thiáº¿t bá»‹ thÃ´ng minh theo thá»i gian thá»±c.
</p>

---

## ğŸŒŸ Giá»›i thiá»‡u

- **ğŸ“Œ ÄÃ³ng cá»­a khi cÃ³ mÆ°a:** Cáº£m biáº¿n mÆ°a phÃ¡t hiá»‡n nÆ°á»›c, tÃ­n hiá»‡u gá»­i Ä‘áº¿n Arduino Ä‘á»ƒ kÃ­ch hoáº¡t Ä‘á»™ng cÆ¡ Ä‘Ã³ng cá»­a.
- **ğŸ’¡ Má»Ÿ cá»­a khi rÃ² rá»‰ khÃ­ gas:** Cáº£m biáº¿n khÃ­ gas phÃ¡t hiá»‡n rÃ² rá»‰, há»‡ thá»‘ng tá»± Ä‘á»™ng má»Ÿ cá»­a Ä‘á»ƒ Ä‘áº£m báº£o an toÃ n.
- **ğŸ“Š CÃ²i bÃ¡o Ä‘á»™ng khi nhiá»‡t Ä‘á»™ cao:** Khi cáº£m biáº¿n phÃ¡t hiá»‡n nhiá»‡t Ä‘á»™ vÆ°á»£t ngÆ°á»¡ng an toÃ n, cÃ²i bÃ¡o Ä‘á»™ng sáº½ kÃ­ch hoáº¡t.
- **ğŸ–¥ï¸ Má»Ÿ cá»­a khi nháº­n diá»‡n chá»§ nhÃ¢n:** á»­ dá»¥ng ESP32-CAM Ä‘á»ƒ nháº­n diá»‡n khuÃ´n máº·t, káº¿t há»£p vá»›i ESP8266 vÃ  mÃ¡y tÃ­nh trung gian Ä‘á»ƒ xá»­ lÃ½, giÃºp má»Ÿ cá»­a tá»± Ä‘á»™ng khi nháº­n diá»‡n Ä‘Ãºng chá»§ nhÃ¢n.

---
## ğŸ—ï¸ Há»† THá»NG
<p align="center">
  <img src="images/Quytrinhdiemdanh.png" alt="System Architecture" width="800"/>
</p>

---
## ğŸ“‚ Cáº¥u trÃºc dá»± Ã¡n

ğŸ“¦ Project  
â”œâ”€â”€ ğŸ“‚ detectWater   # ThÆ° má»¥c chá»©a code cáº£m biáº¿n nÆ°á»›c
â”‚   â”œâ”€â”€ mucnuoc.ino   # MÃ£ nguá»“n Arduino Ä‘iá»u khiá»ƒn micro servo
â”œâ”€â”€ ğŸ“‚ Temperature - Gas  # ThÆ° má»¥c chá»©a code cáº£m biáº¿n khÃ­ gas vÃ  nhiá»‡t Ä‘á»™
â”‚   â”œâ”€â”€ nhietdokhiga.ino   # MÃ£ nguá»“n Arduino Ä‘iá»u khiá»ƒn LED (xanh/Ä‘á») vÃ  cÃ²i  
â”œâ”€â”€ ğŸ“‚ FaceID
â”‚   â”œâ”€â”€ ğŸ“‚ detectPeople  # ThÆ° má»¥c chá»©a code trung gian sá»­ lÃ½ nháº­n diá»‡n chá»§ nhÃ¢n 
â”‚   â”œâ”€â”€ â”œâ”€â”€ ğŸ“‚ venv      # ThÆ° má»¥c cá»§a mÃ´i trÆ°á»ng áº£o 
â”‚   â”œâ”€â”€ â”œâ”€â”€ ğŸ“‚ owner_images # ThÆ° má»¥c lÆ°u trá»¯ áº£nh cá»§a ngÆ°á»i nháº­n diá»‡n
â”‚   â”œâ”€â”€ â”œâ”€â”€ detectPeople.py # MÃ£ nguá»“n xá»­ lÃ½ viá»‡c nháº­n diá»‡n ngÆ°á»i vÃ  truyá»n lá»‡nh vá» cho Esp8266
â”‚   â”œâ”€â”€ â”œâ”€â”€ yolo11n.pt # File code YOLO
â”‚   â”œâ”€â”€ ğŸ“‚ esp32Cam      # ThÆ° má»¥c chá»©a code cáº¥u hÃ¬nh esp32cam 
â”‚   â”œâ”€â”€ ğŸ“‚ Esp8266       # ThÆ° má»¥c chá»©a code cáº¥u hÃ¬nh esp8266 vÃ  pháº§n dÃ¹ng Ä‘á»ƒ Ä‘iá»u khiá»ƒn micro sevor

---



## ğŸ› ï¸ CÃ”NG NGHá»† Sá»¬ Dá»¤NG

<div align="center">

### ğŸ“¡ Pháº§n cá»©ng
[![Arduino](https://img.shields.io/badge/Arduino-00979D?style=for-the-badge&logo=arduino&logoColor=white)](https://www.arduino.cc/)
[![LED](https://img.shields.io/badge/LED-green?style=for-the-badge)]()
[![Buzzer](https://img.shields.io/badge/Buzzer-red?style=for-the-badge)]()
[![WiFi](https://img.shields.io/badge/WiFi-2.4GHz-orange?style=for-the-badge)]()

### ğŸ–¥ï¸ Pháº§n má»m
[![Python](https://img.shields.io/badge/Python-3.x-blue?style=for-the-badge&logo=python)]()
[![Yolo](https://img.shields.io/badge/MongoDB-4.x-green?style=for-the-badge&logo=mongodb)]()
[![OpenCV](https://img.shields.io/badge/OpenCV-Computer%20Vision-blue?style=for-the-badge)]()

</div>

## ğŸ› ï¸ YÃªu cáº§u há»‡ thá»‘ng

### ğŸ”Œ Pháº§n cá»©ng
- **Arduino Uno** (hoáº·c board tÆ°Æ¡ng thÃ­ch) vá»›i **LED (2 mÃ u) vÃ  cÃ²i**.
- **CÃ¡p USB** Ä‘á»ƒ káº¿t ná»‘i Arduino vá»›i mÃ¡y tÃ­nh.
- âš ï¸ **LÆ°u Ã½:** Máº·c Ä‘á»‹nh mÃ£ nguá»“n Arduino trong `ThongBao.ino` sá»­ dá»¥ng cá»•ng `COM5`. Náº¿u Arduino cá»§a báº¡n sá»­ dá»¥ng cá»•ng khÃ¡c, hÃ£y thay Ä‘á»•i biáº¿n `SERIAL_PORT` trong `chuongTrinh.py`.

### ğŸ’» Pháº§n má»m
- **ğŸ Python 3+**
- **ğŸƒ MongoDB** (káº¿t ná»‘i máº·c Ä‘á»‹nh: `mongodb://localhost:27017/`)
- **âš¡ Arduino IDE** Ä‘á»ƒ náº¡p file `ThongBao.ino` lÃªn board Arduino.

### ğŸ“¦ CÃ¡c thÆ° viá»‡n Python cáº§n thiáº¿t
CÃ i Ä‘áº·t cÃ¡c thÆ° viá»‡n báº±ng lá»‡nh:
   pip install ultralytics opencv-python numpy torch torchvision
  python -m venv .venv
## ğŸ§® Báº£ng máº¡ch

### ğŸ”© Káº¿t ná»‘i pháº§n cá»©ng:
<img src="images/Ketnoiphancung.png" alt="System Architecture" width="800"/>

### â›“ï¸â€ğŸ’¥ HÆ°á»›ng dáº«n cáº¯m dÃ¢y
| Thiáº¿t bá»‹        | ChÃ¢n trÃªn thiáº¿t bá»‹ | Káº¿t ná»‘i Arduino UNO | Ghi chÃº                         |
|-----------------|-------------------|---------------------|---------------------------------|
| Breadboard      | -                 | -                   | DÃ¹ng Ä‘á»ƒ káº¿t ná»‘i linh kiá»‡n       |
| ÄÃ¨n LED xanh    | Anode (+), Cathode (-) | Anode â†’ Digital Pin 9, Cathode â†’ GND | Led thÃ´ng bÃ¡o khi sinh viÃªn Ä‘iá»ƒm danh Ä‘Ãºng giá»|
| ÄÃ¨n LED Ä‘á»      | Anode (+), Cathode (-) | Anode â†’ Digital Pin 10, Cathode â†’ GND | Led thÃ´ng bÃ¡o khi sinh viÃªn Ä‘iá»ƒm danh muá»™n|
| Buzzer         | (+), (-)            | (+) â†’ Digital Pin 11, (-) â†’ GND |CÃ²i thÃ´ng bÃ¡o khi sinh viÃªn Ä‘iá»ƒm danh muá»™n|
| 7 dÃ¢y Ä‘iá»‡n      | -                 | -                   | DÃ¹ng Ä‘á»ƒ ná»‘i cÃ¡c linh kiá»‡n       |

## ğŸš€ HÆ°á»›ng dáº«n cÃ i Ä‘áº·t vÃ  cháº¡y
1ï¸âƒ£ Chuáº©n bá»‹ pháº§n cá»©ng
- **Náº¡p mÃ£ Arduino**:

    1. Má»Ÿ file `ThongBao.ino` báº±ng Arduino IDE.
    2. Káº¿t ná»‘i board Arduino vá»›i mÃ¡y tÃ­nh.
    3. Náº¡p (upload) mÃ£ nguá»“n lÃªn board.
    4. Äáº£m báº£o Arduino xuáº¥t hiá»‡n trÃªn cá»•ng COM5 (hoáº·c thay Ä‘á»•i trong `chuongTrinh.py` náº¿u cá»•ng khÃ¡c COM5).

2ï¸âƒ£ CÃ i Ä‘áº·t thÆ° viá»‡n Python. 

CÃ i Ä‘áº·t Python 3 náº¿u chÆ°a cÃ³, sau Ä‘Ã³ cÃ i Ä‘áº·t cÃ¡c thÆ° viá»‡n cáº§n thiáº¿t báº±ng pip.

3ï¸âƒ£ Cáº¥u hÃ¬nh MongoDB
- CÃ i Ä‘áº·t MongoDB náº¿u chÆ°a cÃ³.
- Khá»Ÿi Ä‘á»™ng MongoDB vÃ  Ä‘áº£m báº£o Ä‘ang hoáº¡t Ä‘á»™ng táº¡i `mongodb://localhost:27017/`.
- KhÃ´i phá»¥c cÆ¡ sá»Ÿ dá»¯ liá»‡u tá»« báº£n sao lÆ°u:

        mongorestore --db AttendanceDB "Ä‘Æ°á»ng-dáº«n-Ä‘áº¿n-thÆ°-má»¥c-AttendanceDB"
- VÃ­ dá»¥:

        mongorestore --db AttendanceDB "C:\Users\LENOVO\Documents\Demo2QR\AttendanceDB"
ğŸ“Œ LÆ°u Ã½:
-	TrÃ¡nh trÃ¹ng láº·p cÆ¡ sá»Ÿ dá»¯ liá»‡u: TrÆ°á»›c khi thá»±c hiá»‡n restore, hÃ£y kiá»ƒm tra xem MongoDB Ä‘Ã£ cÃ³ cÆ¡ sá»Ÿ dá»¯ liá»‡u tÃªn AttendanceDB chÆ°a. Náº¿u cÃ³, báº¡n cÃ³ thá»ƒ gáº·p lá»—i hoáº·c dá»¯ liá»‡u cÅ© cÃ³ thá»ƒ bá»‹ ghi Ä‘Ã¨.
-	Äáº£m báº£o MongoDB Ä‘ang cháº¡y: Náº¿u MongoDB chÆ°a Ä‘Æ°á»£c khá»Ÿi Ä‘á»™ng, lá»‡nh mongorestore sáº½ khÃ´ng hoáº¡t Ä‘á»™ng.

4ï¸âƒ£ Cháº¡y cÃ¡c chÆ°Æ¡ng trÃ¬nh

Äá»ƒ Ä‘áº£m báº£o há»‡ thá»‘ng hoáº¡t Ä‘á»™ng Ä‘Ãºng cÃ¡ch, báº¡n cáº§n khá»Ÿi cháº¡y `chuongTrinh.py` trÆ°á»›c, thay vÃ¬ cháº¡y tá»«ng file con riÃªng láº». File nÃ y cung cáº¥p giao diá»‡n chÃ­nh vÃ  bao gá»“m logic káº¿t ná»‘i vá»›i Arduino board. Náº¿u cháº¡y trá»±c tiáº¿p cÃ¡c file con, viá»‡c káº¿t ná»‘i vá»›i Arduino sáº½ khÃ´ng hoáº¡t Ä‘á»™ng.

âœ… Cháº¡y á»©ng dá»¥ng chÃ­nh (`chuongTrinh.py`):

    python chuongTrinh.py
- á»¨ng dá»¥ng sáº½:

    - Khá»Ÿi Ä‘á»™ng **LED Service** táº¡i `localhost:6000` Ä‘á»ƒ Ä‘iá»u khiá»ƒn LED vÃ  cÃ²i.
    - Hiá»ƒn thá»‹ giao diá»‡n chÃ­nh (Tkinter) vá»›i cÃ¡c nÃºt: **Táº¡o mÃ£ QR** vÃ  **Xem Ä‘iá»ƒm danh**

âœ… Cháº¡y á»©ng dá»¥ng quáº£n lÃ½ Ä‘iá»ƒm danh (`Diemdanh.py`):

    python Diemdanh.py

âœ… Cháº¡y á»©ng dá»¥ng táº¡o mÃ£ QR (`TaoQR.py`):

    python TaoQR.py

## ğŸ“– HÆ°á»›ng dáº«n sá»­ dá»¥ng
1ï¸âƒ£ Äiá»ƒm danh qua QR code

- Sinh viÃªn nháº­n email chá»©a mÃ£ QR.
- Khi quÃ©t mÃ£, trÃ¬nh duyá»‡t sáº½ gá»­i yÃªu cáº§u Ä‘iá»ƒm danh Ä‘áº¿n Flask server.
- Há»‡ thá»‘ng kiá»ƒm tra tÃ­nh há»£p lá»‡ vÃ  cáº­p nháº­t vÃ o MongoDB, Ä‘á»“ng thá»i Ä‘iá»u khiá»ƒn Arduino:
    - âœ… Äiá»ƒm danh Ä‘Ãºng háº¡n â†’ LED xanh.
    - â³ Äiá»ƒm danh trá»… â†’ LED Ä‘á», cÃ²i, phÃ¡t thÃ´ng bÃ¡o.
    
2ï¸âƒ£ Quáº£n lÃ½ sinh viÃªn & mÃ£ QR
- Qua giao diá»‡n cá»§a TaoQR.py, báº¡n cÃ³ thá»ƒ:
    - ThÃªm, sá»­a, xÃ³a thÃ´ng tin sinh viÃªn.
    - Nháº­p/xuáº¥t danh sÃ¡ch sinh viÃªn tá»«/Ä‘áº¿n file CSV.
    - Táº¡o QR cho sinh viÃªn theo lá»›p hoáº·c toÃ n bá»™ sinh viÃªn.
    - XÃ³a mÃ£ QR cÅ© má»™t cÃ¡ch thá»§ cÃ´ng.

3ï¸âƒ£ Xem lá»‹ch sá»­ Ä‘iá»ƒm danh
- Qua giao diá»‡n cá»§a Diemdanh.py, báº¡n cÃ³ thá»ƒ:
    - Lá»c danh sÃ¡ch Ä‘iá»ƒm danh theo ngÃ y, lá»›p, tráº¡ng thÃ¡i.
    - Xuáº¥t dá»¯ liá»‡u Ä‘iá»ƒm danh ra file CSV.
    - Há»‡ thá»‘ng tá»± Ä‘á»™ng cáº­p nháº­t vÃ  chá»‘t cÃ¡c phiÃªn Ä‘iá»ƒm danh.

## âš™ï¸ Cáº¥u hÃ¬nh & Ghi chÃº

1. Cá»•ng Arduino: 
- Máº·c Ä‘á»‹nh sá»­ dá»¥ng COM5, cÃ³ thá»ƒ cáº­p nháº­t trong `chuongTrinh.py`.
2. Email gá»­i mÃ£ QR:
- Trong `TaoQR.py`, cáº­p nháº­t thÃ´ng tin *sender_email* vÃ  *sender_password*.(sender email lÃ  Ä‘á»‹a chá»‰ email gá»­i, sender password lÃ  máº­t kháº©u á»©ng dá»¥ng cá»§a email Ä‘Ã³.)
3. Thá»i gian hiá»‡u lá»±c mÃ£ QR: 
- MÃ£ QR cÃ³ hiá»‡u lá»±c 100 phÃºt ká»ƒ tá»« thá»i Ä‘iá»ƒm táº¡o.
4. MÃ´i trÆ°á»ng máº¡ng: 
- Thiáº¿t bá»‹ quÃ©t QR cáº§n káº¿t ná»‘i cÃ¹ng máº¡ng vá»›i mÃ¡y chá»§.

## ğŸ“° Poster
<p align="center">
  <img src="images/PosterNhom1.png" alt="System Architecture" width="800"/>
</p>

## ğŸ¤ ÄÃ³ng gÃ³p
Dá»± Ã¡n Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»Ÿi 4 thÃ nh viÃªn:

| Há» vÃ  TÃªn            | Vai trÃ²                  |
|----------------------|--------------------------|
| Nguyá»…n Ngá»c Báº£o Long | PhÃ¡t triá»ƒn toÃ n bá»™ mÃ£ nguá»“n, thiáº¿t káº¿ cÆ¡ sá»Ÿ dá»¯ liá»‡u, kiá»ƒm thá»­, triá»ƒn khai dá»± Ã¡n vÃ  thá»±c hiá»‡n video giá»›i thiá»‡u.|
| Nguyá»…n Äá»©c Minh      | BiÃªn soáº¡n tÃ i liá»‡u Overleaf, Poster, Powerpoint, thuyáº¿t trÃ¬nh, Ä‘á» xuáº¥t cáº£i tiáº¿n, vÃ  há»— trá»£ bÃ i táº­p lá»›n.|
| Nguyá»…n ÄÃ¬nh KhÃ¡nh    | Thiáº¿t káº¿ slide PowerPoint, há»— trá»£ bÃ i táº­p lá»›n.  |
| Nguyá»…n Äá»©c Äáº¡i       | Há»— trá»£ bÃ i táº­p lá»›n       |

Â© 2025 NHÃ“M 5, CNTT16-02, TRÆ¯á»œNG Äáº I Há»ŒC Äáº I NAM
